<h2>
  <span kaanna="'vuosiluokkaistaminen'"></span>
  <a class="inline-toggle-link" icon-role="ep-open-close" ng-click="collapsedMode = !collapsedMode" kaanna="'isot-pienet-tavoitteet'"></a>
</h2>

<div class="vuosiluokkaistaminen-container-outer">
  <div class="vuosiluokkaistaminen-container">
  <div ng-repeat="container in containers" class="panel panel-default vuosiluokka" ng-class="{tavoitteet: container.type === 'tavoitteet'}">
    <div class="panel-heading">
      <h3 class="panel-title">{{container.label || 'vuosiluokka' | kaanna}} {{container.vuosiluokka}}
        <span ng-if="container.type === 'tavoitteet' && allDragged"
              ng-attr-title="{{'kaikki-vuosiluokkaistettu' | kaanna}}"
              class="all-done glyphicon glyphicon-ok"></span>
      </h3>
    </div>
    <div class="panel-body">
      <ul class="container-items" ng-class="{empty: container.items.length === 0,
        'tavoite-list': container.type === 'tavoitteet',
        'vuosiluokka-list': container.type !== 'tavoitteet'}"
          id="{{container.id}}" ui-sortable="sortableOptions" ng-model="container.items">
        <li ng-repeat="item in container.items | orderBy:tavoiteSorter track by $index"
            ng-class="{'not-used': !item.$kaytossa, 'collapsed-mode': collapsedMode}"
            class="container-item" id="{{container.id + '-' + item.koodi}}">
          <span class="koodi" ng-bind="item.koodi"></span>
          <span ng-bind="item.tavoite | kaanna" ng-attr-title="{{item.tavoite | kaanna}}"></span>
        </li>
      </ul>
    </div>
  </div>
  <div class="clearfix"></div>
</div>
</div>
