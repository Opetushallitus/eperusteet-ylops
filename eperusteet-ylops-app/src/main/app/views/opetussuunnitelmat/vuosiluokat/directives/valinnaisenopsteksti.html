<div class="tavoite">
  <div class="header" ng-class="{'kohdealueeton': editMode || (config.isEditable ? !config.isEditable() : false)}">
    <div class="kohdealue" ng-if="config.isEditable ? config.isEditable() : true">
      <button ng-hide="editMode || config.editing" class="btn btn-default" kaanna="'muokkaa'" icon-role="edit" ng-click="startEditing()" oikeustarkastelu="{ target: 'opetussuunnitelma', permission: 'muokkaus' }"></button>
      <button ng-hide="editMode || config.editing" class="btn btn-default" kaanna="'poista'" icon-role="remove" ng-click="remove()" oikeustarkastelu="{ target: 'opetussuunnitelma', permission: 'muokkaus' }"></button>
    </div>
    <div class="toggle-nimi">
      <span ng-if="!editMode" class="toggle" collapse-toggler="options.collapsed"></span>
      <span ng-if="!editMode" class="nimi" ng-click="options.collapsed = !options.collapsed"
            ng-bind="muokattava.otsikko | kaanna | stripTags"></span>
      <input ng-if="editMode" class="form-control" ng-model="muokattava.otsikko" slocalized>
    </div>
    <div class="clearer"></div>
  </div>
  <div class="ops-body" collapse="options.collapsed">
    <div ng-if="!editMode" ng-bind-html="muokattava.teksti | kaanna | unsafe"></div>
    <div ng-if="editMode" ckeditor layout="simplified" ng-model="muokattava.teksti" slocalized></div>
  </div>
</div>
